{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> <li><code>mkdocs gh-deploy --force</code> - \u90e8\u7f72\u81f3 GITHUB PAGE</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"java_temp/","title":"Java - temp","text":""},{"location":"java_temp/#_1","title":"\u672a\u5206\u985e","text":""},{"location":"java_temp/#_2","title":"\u672a\u5206\u985e","text":""},{"location":"java_temp/#1sort","title":"1.Sort","text":"<p>Sort the list based on level and actionName</p> <pre><code>public static void sortChangeList(List&lt;ChangeListUtil&gt; changeListReport) {  \n    Collections.sort(changeListReport, new Comparator&lt;ChangeListUtil&gt;() {\n        public int compare(ChangeListUtil o1, ChangeListUtil o2) {\n            String x1 = o1.getLevel() + \"\";\n            String x2 = o2.getLevel() + \"\";\n            int sComp = x1.compareTo(x2);\n            if (sComp != 0) {\n                return sComp;\n            }\n\n            String a1 = o1.getActionName();\n            String a2 = o2.getActionName();\n            return a2.compareTo(a1);\n        }\n    });\n}\n\n</code></pre>"},{"location":"windchill_doc/","title":"Windchill - DOC","text":""},{"location":"windchill_doc/#wtdocument","title":"WTDocument","text":"<pre><code>public static void test() throws Exception {\n\n    String number = \"0000725876\";\n    WTDocument doc = getLastestWTDocument(number);\n    String name = doc.getName();\n    String vers = doc.getVersionInfo().getIdentifier().getValue();\n    String iter = doc.getIterationInfo().getIdentifier().getValue();\n    System.out.println(\"\u6587\u4ef6\u540d\u7a31\uff1a\"+ name);\n    System.out.println(\"\u6587\u4ef6\u7248\u672c\uff1a\"+ vers);\n    System.out.println(\"\u6587\u4ef6\u7248\u5e8f\uff1a\"+ iter);\n}\n\npublic static WTDocument getLastestWTDocument(String number) throws Exception{\n\n    WTDocumentMaster master = new WTDocumentMaster();\n    QuerySpec lqs = new QuerySpec(WTDocumentMaster.class);\n    lqs.appendSearchCondition(new SearchCondition(WTDocumentMaster.class, WTDocumentMaster.NUMBER, SearchCondition.EQUAL, number, false));\n    QueryResult results = PersistenceHelper.manager.find(lqs);\n    while (results.hasMoreElements()) {\n      master = (WTDocumentMaster) results.nextElement();\n    }\n\n    QueryResult queryResult = wt.vc.VersionControlHelper.service.allVersionsOf(master);\n    WTDocument rc = null;\n    while (queryResult.hasMoreElements()) {\n      WTDocument obj = ((WTDocument) queryResult.nextElement());\n        if (!wt.vc.wip.WorkInProgressHelper.isWorkingCopy(obj)) {\n            if (rc == null || obj.getVersionIdentifier().getSeries().greaterThan(rc.getVersionIdentifier().getSeries())) {\n                rc = obj;\n            }\n        }\n    }\n    if (rc != null) {\n        return (WTDocument) wt.vc.VersionControlHelper.getLatestIteration(rc);\n    } else {\n        return rc;\n    }\n}\n</code></pre> <pre><code>public static void test() throws Exception {\n\n    String number = \"0000725876\";\n    List&lt;WTDocument&gt; docList = getWTDocument(number);\n}\n\npublic static List&lt;WTDocument&gt; getWTDocument(String number) throws WTException {\n    List&lt;WTDocument&gt; docs = new ArrayList&lt;WTDocument&gt;();\n    QuerySpec lqs = new QuerySpec(WTDocument.class);\n    lqs.appendSearchCondition(new SearchCondition(WTDocument.class, WTDocument.NUMBER, SearchCondition.LIKE, number, false));\n    QueryResult results = PersistenceHelper.manager.find(lqs);\n    while (results.hasMoreElements()) {\n      WTDocument doc = (WTDocument) results.nextElement();\n      docs.add(doc);\n    }\n    return docs;\n}\n</code></pre> <pre><code>  -- \u522a\u9664 Part Document\n  --1.\u67e5 \u6240\u6709\u95dc\u806f\u7684 \u7248\u672c/\u5e8f\n  --select count(*),makerpn,maker_code from (\n  select distinct\n    mpm.wtpartnumber as makerpn\n    ,substr(org.name,1,instr(org.name,'(',1,1)-1) as maker_code\n    ,mp.statestate as makerpart_state\n    ,mp.modifystampa2\n    ,mp.versionida2versioninfo\n    ,mp.iterationida2iterationinfo\n    ,wdm.wtdocumentnumber as docnumber\n    ,wd.versionida2versioninfo\n    ,wd.iterationida2iterationinfo\n    ,wd.statestate as partdoc_state\n    ,lnk.ida2a2\n  from manufacturerpart mp, manufacturerpartmaster mpm, WTPartReferenceLink lnk,wtdocument wd, wtdocumentmaster wdm --, v_lastestwtdocument vld,\n      ,WTOrganization org --, axlentry ax, wtpart wp, wtpartmaster wpm, v_lastestwtpart vl\n  where\n    mp.ida3masterreference = mpm.ida2a2 and mp.ida2a2 = lnk.ida3a5 and lnk.ida3b5 = wdm.ida2a2\n    --and ax.ida3c4 = wp.ida2a2 and wp.ida2a2 = vl.wp_ida2a2 and vl.wpm_ida2a2 = wpm.ida2a2\n    --and ax.ida3a4 = mpm.ida2a2\n    and mpm.ida3organizationreference = org.ida2a2\n    --and ax.amlpreferencedata in (70,80)\n    and wdm.ida2a2 = wd.ida3masterreference\n    --and wp.statestate &lt;&gt; 'PHASEOUT' --)\n    --and mp.statestate = 'CHANGE_IN_WORK'\n    --group by makerpn,maker_code\n    --and mpm.wtpartnumber = '2215D6740002'\n    and wdm.wtdocumentnumber in ('0000349514','0000355577','0000982683','0000605342')\n  order by 1,5,6;\n\n  --2.\u522a\u9664 WTPartReferenceLink \u95dc\u806f\n  select t.*,t.rowid\n  from WTPartReferenceLink t\n  where t.ida2a2 in (\n    select lnk.ida2a2\n    from manufacturerpart mp, manufacturerpartmaster mpm, WTPartReferenceLink lnk,wtdocument wd, wtdocumentmaster wdm --, v_lastestwtdocument vld\n    , WTOrganization org --, axlentry ax, wtpart wp, wtpartmaster wpm, v_lastestwtpart vl\n    where mp.ida3masterreference = mpm.ida2a2 and mp.ida2a2 = lnk.ida3a5 and lnk.ida3b5 = wdm.ida2a2\n    --and ax.ida3c4 = wp.ida2a2 and wp.ida2a2 = vl.wp_ida2a2 and vl.wpm_ida2a2 = wpm.ida2a2\n    --and ax.ida3a4 = mpm.ida2a2\n    and mpm.ida3organizationreference = org.ida2a2\n    --and ax.amlpreferencedata in (70,80)\n    and wdm.ida2a2 = wd.ida3masterreference\n    --and wp.statestate &lt;&gt; 'PHASEOUT' --)\n    --and mp.statestate = 'CHANGE_IN_WORK'\n    --group by makerpn,maker_code\n    --and mpm.wtpartnumber = 'TPD4S010DQAR'\n    and wdm.wtdocumentnumber in ('0000845570','0000846005')\n  );\n\n  delete from WTPartReferenceLink t where t.ida2a2 in (\n    select distinct lnk.ida2a2\n    from manufacturerpart mp, manufacturerpartmaster mpm, WTPartReferenceLink lnk,wtdocument wd, wtdocumentmaster wdm --, v_lastestwtdocument vld\n    , WTOrganization org --, axlentry ax, wtpart wp, wtpartmaster wpm, v_lastestwtpart vl\n    where mp.ida3masterreference = mpm.ida2a2 and mp.ida2a2 = lnk.ida3a5 and lnk.ida3b5 = wdm.ida2a2\n    --and ax.ida3c4 = wp.ida2a2 and wp.ida2a2 = vl.wp_ida2a2 and vl.wpm_ida2a2 = wpm.ida2a2\n    --and ax.ida3a4 = mpm.ida2a2\n    and mpm.ida3organizationreference = org.ida2a2\n    --and ax.amlpreferencedata in (70,80)\n    and wdm.ida2a2 = wd.ida3masterreference\n    --and wp.statestate &lt;&gt; 'PHASEOUT' --)\n    --and mp.statestate = 'CHANGE_IN_WORK'\n    --group by makerpn,maker_code\n    --and mpm.wtpartnumber = 'TPD4S010DQAR'\n    and wdm.wtdocumentnumber in ('0000349514')\n  );\n</code></pre>"},{"location":"windchill_doc/#1-wtdocument","title":"1.\u4f9d\u7167\u6587\u4ef6\u7de8\u865f\uff0c\u53d6\u5f97 WTDocument \u7269\u4ef6(\u6700\u65b0\u7248\u672c\u7248\u5e8f)","text":""},{"location":"windchill_doc/#2-wtdocument","title":"2.\u4f9d\u7167\u6587\u4ef6\u7de8\u865f\uff0c\u53d6\u5f97 WTDocument \u7269\u4ef6 (\u6240\u6709\u7248\u672c\u7248\u5e8f)","text":""},{"location":"windchill_doc/#3-part-document","title":"3.\u522a\u9664 Part Document \u7684\u95dc\u806f","text":""},{"location":"windchill_doc/#4-part-document-yushu","title":"4.\u522a\u9664 Part Document \u6587\u4ef6 (yushu\u7248)","text":"<pre><code>--\u67e5\u8a62\u6240\u6709\u8207\u8a72 Part Document \u6709\u95dc\u4e4b\u95dc\u806fID:                         \nselect ida2a2 from WTPartReferenceLink where ida3b5 in (                            \n  select ida2a2 from wtdocumentmaster                           \n  where wtdocumentnumber in ('0000605342','0000355577','0000349514','0000982683')                           \n)\n\n--\u522a\u9664\u8a72 Part Document \u6240\u6709\u95dc\u806f:                           \nDelete from WTPartReferenceLink                             \nwhere ida2a2 in(                            \n  select ida2a2 from WTPartReferenceLink where ida3b5 in (                          \n    select ida2a2 from wtdocumentmaster                             \n    where wtdocumentnumber in ('0000605342','0000355577','0000349514','0000982683')                         \n  )                         \n)\n\n--\u7136\u5f8c\u5230 PLM \u9801\u9762\u4e0a\u522a\u9664\u9019\u4e9b\u6587\u4ef6\n</code></pre>"},{"location":"windchill_doc/#wtdocument_1","title":"WTDocument \u51fa\u5eab\u5165\u5eab","text":"<pre><code>String docNum = \"0001154314\";\nWTDocument doc = DocumentUtil.getLastestWTDocument(docNum);\nWorkable work = doc;\nFolder folder = WorkInProgressHelper.service.getCheckoutFolder();\nCheckoutLink checkoutLink = WorkInProgressHelper.service.checkout(work, folder, \"Auto CheckOut by System.\");\nwork = checkoutLink.getWorkingCopy();\nwork = WorkInProgressHelper.service.checkin(work, \"check in msg\"); \n\n</code></pre>"},{"location":"windchill_doc/#1wtdocument","title":"1.WTDocument \u53d6\u5f97\u51fa\u5eab\u4eba\u54e1\u4e26\u6062\u5fa9\u51fa\u5eab","text":"<pre><code>    String docNum = \"0001154314\";\n        WTDocument doc = DocumentUtil.getLastestWTDocument(docNum);\n\n    if (WorkInProgressHelper.isCheckedOut(doc)) {\n            if(\"Administrator\".equals(doc.getLockerName())) {\n                WorkInProgressHelper.service.undoCheckout(doc);\n            }\n        }\n\n</code></pre> <pre><code>    public static WTDocument getLastestWTDocument(String number) throws Exception {\n        WTDocumentMaster master = new WTDocumentMaster();\n        QuerySpec lqs = new QuerySpec(WTDocumentMaster.class);\n        lqs.appendSearchCondition(new SearchCondition(WTDocumentMaster.class, WTDocumentMaster.NUMBER,\n                SearchCondition.EQUAL, number, false));\n        QueryResult results = PersistenceHelper.manager.find(lqs);\n        while (results.hasMoreElements()) {\n            master = (WTDocumentMaster) results.nextElement();\n        }\n\n        QueryResult queryResult = wt.vc.VersionControlHelper.service.allVersionsOf(master);\n        WTDocument rc = null;\n        while (queryResult.hasMoreElements()) {\n            WTDocument obj = ((WTDocument) queryResult.nextElement());\n            if (!wt.vc.wip.WorkInProgressHelper.isWorkingCopy(obj)) {\n                if (rc == null\n                        || obj.getVersionIdentifier().getSeries().greaterThan(rc.getVersionIdentifier().getSeries())) {\n                    rc = obj;\n                }\n            }\n        }\n\n        if (rc != null) {\n            return (WTDocument) wt.vc.VersionControlHelper.getLatestIteration(rc);\n        } else {\n            return rc;\n        }\n    }\n\n</code></pre>"},{"location":"windchill_ec/","title":"Windchill - EC","text":""},{"location":"windchill_ec/#ec","title":"EC","text":""},{"location":"windchill_ec/#_1","title":"\u7522\u751f\u7269\u4ef6","text":""},{"location":"windchill_ec/#1","title":"1.\u53d6\u5f97\u7522\u751f\u7269\u4ef6","text":"<p>\u6e2c\u8a66\u8aaa\u660e</p> <pre><code>&lt;!-- Tiles2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n    &lt;artifactId&gt;struts2-tiles-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"windchill_ec/#2","title":"2.\u79fb\u9664\u7522\u751f\u7269\u4ef6","text":"<p>\u6e2c\u8a66\u8aaa\u660e94\u8981\u8aaa\u660e</p> <pre><code>&lt;!-- Tiles2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n    &lt;artifactId&gt;struts2-tiles-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"windchill_ec/#_2","title":"\u53d7\u5f71\u97ff\u7269\u4ef6","text":""},{"location":"windchill_ec/#1_1","title":"1.\u53d7\u5f71\u97ff\u7269\u4ef6","text":"<p>\u6e2c\u8a66\u8aaa\u660e</p> <pre><code>&lt;!-- Tiles2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n    &lt;artifactId&gt;struts2-tiles-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"windchill_ec/#2_1","title":"2.\u53d7\u5f71\u97ff\u7269\u4ef6","text":"<p>\u6e2c\u8a66\u8aaa\u660e94\u8981\u8aaa\u660e</p> <pre><code>&lt;!-- Tiles2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n    &lt;artifactId&gt;struts2-tiles-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"windchill_workflow/","title":"Windchill - Workfolw","text":""},{"location":"windchill_workflow/#workflow","title":"Workflow","text":""},{"location":"windchill_workflow/#1","title":"1.\u89d2\u8272","text":""},{"location":"windchill_workflow/#wf","title":"\u65bcWF\u65b0\u589e\u89d2\u8272","text":"<p>\u82e5\u9808\u65bcWF\u5167\u89d2\u8272\u6e05\u55ae\u5167\u65b0\u589e\u81ea\u5b9a\u7fa9\u89d2\u8272\uff0c\u9700\u65bc\u4e0b\u9762\u8a2d\u5b9a\u6a94\u8a2d\u5b9a Windchill/wtCustom/wt/project/RoleRB.rbInfo Windchill/wtCustom/wt/project/RoleRB_zh_TW.rbInfo</p> <p>\u8a2d\u5b9a\u503c\u5982\u4e0b\uff0c\u5176\u4e2dorder\u865f\u78bc\u6bcf\u6b21\u8df3\u865f64\uff0c\u5176\u4e2dMI_ENGINEER\u70baKEY</p> <pre><code>MI_ENGINEER.value=MI Engineer\nMI_ENGINEER.shortDescription=MI Engineer\nMI_ENGINEER.order=9424\n</code></pre>"},{"location":"windchill_workflow/#2","title":"2.\u6295\u7968","text":""},{"location":"windchill_workflow/#_1","title":"\u53d6\u5f97\u8def\u7531/\u8655\u7406\u7d00\u9304\u5167\u6307\u5b9a\u89d2\u8272\u7684\u6210\u54e1","text":"<p>getRolePrincipal(eco,\"QE(PCBA) ENGINEER\") QE(PCBA) ENGINEER\u70ba\u6d41\u7a0b\u72c0\u6cc1\u4e2d\u7684\u540d\u7a31</p> <pre><code>public static ArrayList&lt;WTPrincipal&gt; getRolePrincipal(WTChangeOrder2 eco,String roleName) throws WTException {\n    ArrayList&lt;WTPrincipal&gt; list = new ArrayList&lt;WTPrincipal&gt;();\n    wt.team.Team team = (wt.team.Team) eco.getTeamId().getObject();\n    Vector&lt;Role&gt; roles = team.getRoles();\n    java.util.Enumeration principals;\n    try {\n      principals = team.getPrincipalTarget(wt.project.Role.toRole(roleName));\n      while(principals.hasMoreElements())\n      {\n        wt.org.WTPrincipalReference principalRef = (wt.org.WTPrincipalReference)principals.nextElement();\n        wt.org.WTPrincipal wtprincipal = principalRef.getPrincipal();\n        list.add(wtprincipal);\n      }\n    } catch (WTInvalidParameterException | WTException e) {\n      e.printStackTrace();\n    } // replace the role KEY appropriately\n\n    return list;\n}\n</code></pre>"},{"location":"windchill_workflow/#_2","title":"\u53d6\u5f97\u8def\u7531/\u8655\u7406\u7d00\u9304\u5167\u6307\u5b9a\u89d2\u8272\u5be6\u969b\u7c3d\u6838\u4eba\u54e1","text":"<p>getVotePerson(eco,\"QE-MB\") QE-MB\u70ba\u6d41\u7a0b\u72c0\u6cc1\u4e2d\u7684\u89d2\u8272</p> <pre><code>public static Set&lt;String&gt; getVotePerson(WTChangeOrder2 eco,String roleName) throws WTException {\n    Set&lt;String&gt; votors = new HashSet&lt;String&gt;();\n    WTContainer wtContainer = eco.getContainer();\n    QueryResult wfs = WfEngineHelper.service.getAssociatedProcesses(eco, null, WTContainerRef.newWTContainerRef(wtContainer));\n        if (wfs.size() &gt; 0){\n        while(wfs.hasMoreElements()){\n            WfProcess wfprocess = (WfProcess)wfs.nextElement();\n            QueryResult qrWfVotingEventAudits = NmWorkflowHelper.service.getVotingEventsForProcess(wfprocess);\n            while (qrWfVotingEventAudits != null &amp;&amp; qrWfVotingEventAudits.hasMoreElements()) {\n                WfVotingEventAudit wfvotingeventaudit = (WfVotingEventAudit) qrWfVotingEventAudits.nextElement();\n                WTPrincipalReference wtprincipalreference = wfvotingeventaudit.getAssigneeRef();\n                WTPrincipal wtprincipal = null;\n                if (wtprincipalreference != null) {\n                    wtprincipal = (WTPrincipal) wtprincipalreference.getObject();\n                }\n                String displayRole = \"\";\n                if(wfvotingeventaudit.getRole()!=null){\n                    displayRole = wfvotingeventaudit.getRole().getDisplay(Locale.ENGLISH);\n                }\n                System.out.println(\"displayRole:\" + displayRole);\n                if(roleName.equalsIgnoreCase(displayRole)) {\n                    votors.add(wtprincipal.getName());\n                }\n            }\n        }\n    }\n    return votors;\n}\n</code></pre>"},{"location":"windchill_workflow/#sql","title":"\u67e5\u8a62\u81ea\u52d5\u7c3d\u6838\u7684\u6295\u7968\u72c0\u6cc1 (SQL)","text":"<p>-- \u67e5\u8a62\u81ea\u52d5\u7c3d\u6838\u7684\u6295\u7968\u72c0\u6cc1</p> <pre><code>select Wv.*,sign.*\nfrom\n  PLM_AUTO_SIGN sign,\n  Wfprocess Wp,Wfassignedactivity Wfc,\n  Wfassignment Waa\n  left join Workitem Wi on Wi.Ida3c4 =  Waa.Ida2a2\n  right join (Select Activitykey, Activityname, Ida3a6, Role, Eventlist, Usercomment,Ida2a2 As Wv_Ida2a2 ,Ida3b6  From Wfvotingeventaudit) Wv on Wv.Ida3b6 = Wi.Ida2a2\nwhere Wp.Ida2a2 = Wfc.Ida3parentprocessref and Waa.Ida3a4 = Wfc.Ida2a2\nand Wp.ida2a2 = replace(sign.WF_PROCESS_OID,'OR:wt.workflow.engine.WfProcess:','')\nand Wfc.Name = sign.WF_ACTIVITYNAME order by sign.trx_id desc;\n</code></pre> <p>-- \u67e5\u8a62\u81ea\u52d5\u7c3d\u6838\u7684\u6295\u7968\u72c0\u6cc1 (\u4ee5\u524d\u7a31\u4f5c auto by pass\uff0c\u4f46\u56e0\u70ba\u7a3d\u6838\u554f\u984c\uff0c\u7d71\u4e00\u6539\u6210 by pass)</p> <pre><code>select ida2a2,Activitykey,Role,Eventlist,USERCOMMENT\nfrom Wfvotingeventaudit\nwhere USERCOMMENT='by pass';\n</code></pre>"},{"location":"windchill_workflow/#sql_1","title":"\u4fee\u6539\u7c3d\u6838\u4eba\u54e1\u7684\u8a3b\u89e3 (SQL)","text":"<p>-- \u4fee\u6539\u7c3d\u6838\u4eba\u54e1\u7684\u8a3b\u89e3</p> <pre><code>update Wfvotingeventaudit set USERCOMMENT='by pass' where ida2a2 = '8437249888' and USERCOMMENT='auto by pass';\nselect * from Wfvotingeventaudit where ida2a2 = '8437249888';\n\nupdate Wfvotingeventaudit set USERCOMMENT='by pass' where ida2a2 in (\n  select ida2a2 from Wfvotingeventaudit where USERCOMMENT='auto by pass'\n);\n\nselect ida2a2 from Wfvotingeventaudit where USERCOMMENT='by pass';\n</code></pre>"},{"location":"windchill_workflow/#b1","title":"B1","text":""},{"location":"windchill_workflow/#b2","title":"B2","text":""}]}